<html>
<head>
<title>Message Router Example</title>
<script language="JavaScript">

function lol(){
    let canvas = document.getElementById("myCanvas");
    let context = canvas.getContext("2d");
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.fillStyle = "#000000";
    
    var points = window.getPositionForSnake();
 
    let scale = 10;
  //  alert(points[0].y);
    context.fillRect(scale*points[0].x, scale*points[0].y, scale, scale);

}

function call(){
    setInterval(lol, 50);
}

// Send a query to the browser process.
function sendMessage() {
  // Results in a call to the OnQuery method in client_impl.cc.
  window.cefQuery({
    request: 'getSnakePosition:' + document.getElementById("message").value,
    onSuccess: function(response) {
      document.getElementById('result').value = 'Response: '+response;
    },
    onFailure: function(error_code, error_message) {}
  });
}
</script>

</head>
<body bgcolor="white">


<form>
Message: <input type="text" id="message" value="My Message">
<br/><input type="button" onclick="call();" value="Send Message">
<br/>You should see the reverse of your message below:
<br/><textarea rows="10" cols="40" id="result"></textarea>
</form>

<canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">

</body>
</html>
